{"version":3,"sources":["../../../../../Furniture%20Showcase%20Site%202026/src/utils/supabase/info.tsx","../../../../../Furniture%20Showcase%20Site%202026/src/utils/supabase/client.ts","../../../../../Furniture%20Showcase%20Site%202026/src/utils/crm-helpers.ts"],"sourcesContent":["/* AUTOGENERATED FILE - DO NOT EDIT CONTENTS */\n\nexport const projectId = \"ljljxfgvjhrcocjruzgh\"\nexport const publicAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqbGp4Zmd2amhyY29janJ1emdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2OTU2MTIsImV4cCI6MjA4MzI3MTYxMn0.8gzVTy6V89vB8SpK0y9L5Dg9M24phvipHWjfRU69jjo\"","/* \n * Supabase Client Configuration\n * Safe for both build-time and runtime\n */\n\nimport { projectId, publicAnonKey } from './info';\n\n// Safe API base URL that works during build and runtime\nexport const getApiBase = (): string => {\n  // During build time, return a placeholder\n  if (typeof window === 'undefined') {\n    return '';\n  }\n  \n  // During runtime, return the actual API URL\n  if (!projectId) {\n    console.warn('⚠️ Supabase projectId not configured');\n    return '';\n  }\n  \n  return `https://${projectId}.supabase.co/functions/v1/make-server-3cbf86a5`;\n};\n\n// Export as constant for convenience\nexport const API_BASE = getApiBase();\n\n// Safe check for Supabase availability\nexport const isSupabaseAvailable = (): boolean => {\n  return typeof window !== 'undefined' && !!projectId && !!publicAnonKey;\n};\n\n// Export the keys\nexport { projectId, publicAnonKey };\n","import { API_BASE, publicAnonKey } from \"./supabase/client\";\n\n// ============================================\n// LEAD CAPTURE HELPERS\n// ============================================\n\nexport interface LeadData {\n  email: string;\n  name?: string;\n  phone?: string;\n  source: \"website-form\" | \"chatbot\" | \"consultation\" | \"questionnaire\" | \"newsletter\";\n  interests?: string[];\n  budget?: string;\n  roomType?: string;\n  notes?: string;\n}\n\n/**\n * Capture a new lead from any source\n */\nexport async function captureLead(leadData: LeadData): Promise<{ success: boolean; leadId?: string; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/leads`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify({\n        ...leadData,\n        status: \"new\",\n      }),\n      signal: AbortSignal.timeout(10000), // 10 second timeout\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      console.log(\"Lead captured successfully:\", data.lead.id);\n      return { success: true, leadId: data.lead.id };\n    } else {\n      console.error(\"Failed to capture lead:\", data.error);\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error capturing lead:\", error);\n    console.warn(\"ℹ️ Backend not available - lead captured in offline mode\");\n    \n    // Generate mock lead ID for offline mode\n    const mockLeadId = `lead_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    console.log(\"✅ Mock lead created:\", mockLeadId);\n    \n    return { success: true, leadId: mockLeadId };\n  }\n}\n\n/**\n * Capture newsletter subscription as a lead\n */\nexport async function captureNewsletterLead(email: string): Promise<{ success: boolean }> {\n  const result = await captureLead({\n    email,\n    source: \"newsletter\",\n  });\n  return { success: result.success };\n}\n\n/**\n * Capture contact form submission as a lead\n */\nexport async function captureContactFormLead(data: {\n  email: string;\n  name?: string;\n  phone?: string;\n  message?: string;\n}): Promise<{ success: boolean }> {\n  const result = await captureLead({\n    email: data.email,\n    name: data.name,\n    phone: data.phone,\n    source: \"website-form\",\n    notes: data.message,\n  });\n  return { success: result.success };\n}\n\n/**\n * Capture chatbot interaction as a lead\n */\nexport async function captureChatbotLead(data: {\n  email: string;\n  name?: string;\n  interests?: string[];\n  budget?: string;\n  roomType?: string;\n}): Promise<{ success: boolean }> {\n  const result = await captureLead({\n    ...data,\n    source: \"chatbot\",\n  });\n  return { success: result.success };\n}\n\n/**\n * Capture questionnaire submission as a lead\n */\nexport async function captureQuestionnaireLead(data: {\n  email: string;\n  name?: string;\n  phone?: string;\n  roomType?: string;\n  budget?: string;\n  interests?: string[];\n}): Promise<{ success: boolean }> {\n  const result = await captureLead({\n    ...data,\n    source: \"questionnaire\",\n  });\n  return { success: result.success };\n}\n\n// ============================================\n// USER MANAGEMENT HELPERS\n// ============================================\n\nexport interface UserProfile {\n  id?: string;\n  email: string;\n  name: string;\n  phone?: string;\n  address?: {\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n  };\n  preferences?: {\n    style?: string[];\n    budget?: string;\n    roomTypes?: string[];\n    notifications?: {\n      email: boolean;\n      sms: boolean;\n      orderUpdates: boolean;\n      promotions: boolean;\n    };\n  };\n}\n\n/**\n * Create a new user account\n */\nexport async function createUserAccount(userData: UserProfile): Promise<{ success: boolean; userId?: string; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify({\n        ...userData,\n        accountStatus: \"active\",\n      }),\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      console.log(\"User created successfully:\", data.user.id);\n      return { success: true, userId: data.user.id };\n    } else {\n      console.error(\"Failed to create user:\", data.error);\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error creating user:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n/**\n * Get user by email\n */\nexport async function getUserByEmail(email: string): Promise<{ success: boolean; user?: any; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/users/email/${encodeURIComponent(email)}`, {\n      headers: {\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      return { success: true, user: data.user };\n    } else {\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error fetching user:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n/**\n * Update user profile\n */\nexport async function updateUserProfile(userId: string, updates: Partial<UserProfile>): Promise<{ success: boolean; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/users/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify(updates),\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      console.log(\"User profile updated successfully\");\n      return { success: true };\n    } else {\n      console.error(\"Failed to update user profile:\", data.error);\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error updating user profile:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n/**\n * Track user login\n */\nexport async function trackUserLogin(userId: string): Promise<void> {\n  try {\n    await fetch(`${API_BASE}/users/${userId}/login`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n    });\n  } catch (error) {\n    console.error(\"Error tracking login:\", error);\n  }\n}\n\n/**\n * Track user activity (for real-time presence)\n */\nexport async function trackUserActivity(userId: string, activity?: string): Promise<void> {\n  try {\n    await fetch(`${API_BASE}/users/${userId}/activity`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify({ \n        activity: activity || \"browsing\",\n        timestamp: new Date().toISOString() \n      }),\n    });\n  } catch (error) {\n    console.error(\"Error tracking activity:\", error);\n  }\n}\n\n/**\n * Create or update lead from user signup\n */\nexport async function createLeadFromSignup(data: {\n  email: string;\n  name: string;\n  userId: string;\n}): Promise<{ success: boolean; leadId?: string }> {\n  const result = await captureLead({\n    email: data.email,\n    name: data.name,\n    source: \"website-form\",\n    notes: `User signed up - User ID: ${data.userId}`,\n  });\n  return result;\n}\n\n/**\n * Capture abandoned cart as a lead\n */\nexport async function captureAbandonedCartLead(data: {\n  email?: string;\n  name?: string;\n  cartItems: any[];\n  cartTotal: number;\n}): Promise<{ success: boolean; leadId?: string }> {\n  if (!data.email) {\n    console.log(\"Cannot capture abandoned cart - no email provided\");\n    return { success: false };\n  }\n\n  const itemNames = data.cartItems.map(item => item.name).join(\", \");\n  const result = await captureLead({\n    email: data.email,\n    name: data.name,\n    source: \"website-form\",\n    interests: data.cartItems.map(item => item.name),\n    budget: `RM ${data.cartTotal}`,\n    notes: `Abandoned cart - ${data.cartItems.length} items (${itemNames}) - Total: RM ${data.cartTotal}`,\n  });\n  \n  if (result.success) {\n    console.log(\"✅ Abandoned cart lead captured:\", result.leadId);\n  }\n  \n  return result;\n}\n\n// ============================================\n// ORDER MANAGEMENT HELPERS\n// ============================================\n\nexport interface OrderData {\n  userId: string;\n  items: {\n    productId: string;\n    name: string;\n    quantity: number;\n    price: number;\n    image: string;\n    sku?: string;\n  }[];\n  subtotal: number;\n  tax: number;\n  shipping: number;\n  discount: number;\n  total: number;\n  shippingAddress: {\n    name: string;\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n    phone: string;\n  };\n  paymentMethod?: string;\n  notes?: string;\n}\n\n/**\n * Create a new order\n */\nexport async function createOrder(orderData: OrderData): Promise<{ success: boolean; orderId?: string; orderNumber?: string; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/orders`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify({\n        ...orderData,\n        status: \"pending-payment\",\n        paymentStatus: \"pending\",\n        timeline: [\n          {\n            status: \"Order Created\",\n            description: \"Your order has been created and is awaiting payment\",\n            date: new Date().toISOString(),\n            completed: true,\n          },\n        ],\n      }),\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      console.log(\"Order created successfully:\", data.order.orderNumber);\n      return { \n        success: true, \n        orderId: data.order.id,\n        orderNumber: data.order.orderNumber \n      };\n    } else {\n      console.error(\"Failed to create order:\", data.error);\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error creating order:\", error);\n    console.warn(\"ℹ️ Backend not available - order created in offline mode\");\n    \n    // Generate mock order ID for offline mode\n    const mockOrderId = `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const mockOrderNumber = `VIS-${Date.now().toString().slice(-6)}`;\n    \n    console.log(\"✅ Mock order created:\", mockOrderNumber);\n    return { \n      success: true, \n      orderId: mockOrderId,\n      orderNumber: mockOrderNumber\n    };\n  }\n}\n\n/**\n * Get user's orders\n */\nexport async function getUserOrders(userId: string): Promise<{ success: boolean; orders?: any[]; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/users/${userId}/orders`, {\n      headers: {\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      return { success: true, orders: data.orders };\n    } else {\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error fetching user orders:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n/**\n * Get a specific order\n */\nexport async function getOrder(orderId: string): Promise<{ success: boolean; order?: any; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/orders/${orderId}`, {\n      headers: {\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      return { success: true, order: data.order };\n    } else {\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error fetching order:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n/**\n * Update order status\n */\nexport async function updateOrderStatus(\n  orderId: string, \n  status: string,\n  timelineEntry?: {\n    status: string;\n    description: string;\n    location?: string;\n  }\n): Promise<{ success: boolean; error?: string }> {\n  try {\n    // Update order status\n    const updateResponse = await fetch(`${API_BASE}/orders/${orderId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n      body: JSON.stringify({ status }),\n    });\n\n    const updateData = await updateResponse.json();\n    if (!updateData.success) {\n      return { success: false, error: updateData.error };\n    }\n\n    // Add timeline entry if provided\n    if (timelineEntry) {\n      const timelineResponse = await fetch(`${API_BASE}/orders/${orderId}/timeline`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${publicAnonKey}`,\n        },\n        body: JSON.stringify({\n          ...timelineEntry,\n          date: new Date().toISOString(),\n          completed: true,\n        }),\n      });\n\n      const timelineData = await timelineResponse.json();\n      if (!timelineData.success) {\n        console.error(\"Failed to add timeline entry:\", timelineData.error);\n      }\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.error(\"Error updating order status:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\n// ============================================\n// ANALYTICS HELPERS\n// ============================================\n\n/**\n * Get CRM statistics\n */\nexport async function getCRMStats(): Promise<{ success: boolean; stats?: any; error?: string }> {\n  try {\n    const response = await fetch(`${API_BASE}/stats`, {\n      headers: {\n        Authorization: `Bearer ${publicAnonKey}`,\n      },\n    });\n\n    const data = await response.json();\n    \n    if (data.success) {\n      return { success: true, stats: data.stats };\n    } else {\n      return { success: false, error: data.error };\n    }\n  } catch (error) {\n    console.error(\"Error fetching CRM stats:\", error);\n    return { success: false, error: String(error) };\n  }\n}"],"names":[],"mappings":"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"}