module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},44229,a=>{a.n(a.i(24244))},28318,a=>{a.n(a.i(70589))},48596,a=>{a.n(a.i(11618))},81682,a=>{a.n(a.i(87011))},66997,29227,86483,a=>{"use strict";let b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqbGp4Zmd2amhyY29janJ1emdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2OTU2MTIsImV4cCI6MjA4MzI3MTYxMn0.8gzVTy6V89vB8SpK0y9L5Dg9M24phvipHWjfRU69jjo";a.s(["projectId",0,"ljljxfgvjhrcocjruzgh","publicAnonKey",0,b],29227);let c=()=>"",d=c();async function e(a){try{let c=await fetch(`${d}/leads`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({...a,status:"new"}),signal:AbortSignal.timeout(1e4)}),e=await c.json();if(e.success)return console.log("Lead captured successfully:",e.lead.id),{success:!0,leadId:e.lead.id};return console.error("Failed to capture lead:",e.error),{success:!1,error:e.error}}catch(b){console.error("Error capturing lead:",b),console.warn("ℹ️ Backend not available - lead captured in offline mode");let a=`lead_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return console.log("✅ Mock lead created:",a),{success:!0,leadId:a}}}async function f(a){return{success:(await e({email:a,source:"newsletter"})).success}}async function g(a){return{success:(await e({email:a.email,name:a.name,phone:a.phone,source:"website-form",notes:a.message})).success}}async function h(a){return{success:(await e({...a,source:"chatbot"})).success}}async function i(a){return{success:(await e({...a,source:"questionnaire"})).success}}async function j(a){try{let c=await fetch(`${d}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({...a,accountStatus:"active"})}),e=await c.json();if(e.success)return console.log("User created successfully:",e.user.id),{success:!0,userId:e.user.id};return console.error("Failed to create user:",e.error),{success:!1,error:e.error}}catch(a){return console.error("Error creating user:",a),{success:!1,error:String(a)}}}async function k(a){try{let c=await fetch(`${d}/users/email/${encodeURIComponent(a)}`,{headers:{Authorization:`Bearer ${b}`}}),e=await c.json();if(e.success)return{success:!0,user:e.user};return{success:!1,error:e.error}}catch(a){return console.error("Error fetching user:",a),{success:!1,error:String(a)}}}async function l(a,c){try{let e=await fetch(`${d}/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(c)}),f=await e.json();if(f.success)return console.log("User profile updated successfully"),{success:!0};return console.error("Failed to update user profile:",f.error),{success:!1,error:f.error}}catch(a){return console.error("Error updating user profile:",a),{success:!1,error:String(a)}}}async function m(a){try{await fetch(`${d}/users/${a}/login`,{method:"POST",headers:{Authorization:`Bearer ${b}`}})}catch(a){console.error("Error tracking login:",a)}}async function n(a,c){try{await fetch(`${d}/users/${a}/activity`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({activity:c||"browsing",timestamp:new Date().toISOString()})})}catch(a){console.error("Error tracking activity:",a)}}async function o(a){return await e({email:a.email,name:a.name,source:"website-form",notes:`User signed up - User ID: ${a.userId}`})}async function p(a){if(!a.email)return console.log("Cannot capture abandoned cart - no email provided"),{success:!1};let b=a.cartItems.map(a=>a.name).join(", "),c=await e({email:a.email,name:a.name,source:"website-form",interests:a.cartItems.map(a=>a.name),budget:`RM ${a.cartTotal}`,notes:`Abandoned cart - ${a.cartItems.length} items (${b}) - Total: RM ${a.cartTotal}`});return c.success&&console.log("✅ Abandoned cart lead captured:",c.leadId),c}async function q(a){try{let c=await fetch(`${d}/orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({...a,status:"pending-payment",paymentStatus:"pending",timeline:[{status:"Order Created",description:"Your order has been created and is awaiting payment",date:new Date().toISOString(),completed:!0}]})}),e=await c.json();if(e.success)return console.log("Order created successfully:",e.order.orderNumber),{success:!0,orderId:e.order.id,orderNumber:e.order.orderNumber};return console.error("Failed to create order:",e.error),{success:!1,error:e.error}}catch(c){console.error("Error creating order:",c),console.warn("ℹ️ Backend not available - order created in offline mode");let a=`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b=`VIS-${Date.now().toString().slice(-6)}`;return console.log("✅ Mock order created:",b),{success:!0,orderId:a,orderNumber:b}}}async function r(a){try{let c=await fetch(`${d}/users/${a}/orders`,{headers:{Authorization:`Bearer ${b}`}}),e=await c.json();if(e.success)return{success:!0,orders:e.orders};return{success:!1,error:e.error}}catch(a){return console.error("Error fetching user orders:",a),{success:!1,error:String(a)}}}async function s(a){try{let c=await fetch(`${d}/orders/${a}`,{headers:{Authorization:`Bearer ${b}`}}),e=await c.json();if(e.success)return{success:!0,order:e.order};return{success:!1,error:e.error}}catch(a){return console.error("Error fetching order:",a),{success:!1,error:String(a)}}}async function t(a,c,e){try{let f=await fetch(`${d}/orders/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({status:c})}),g=await f.json();if(!g.success)return{success:!1,error:g.error};if(e){let c=await fetch(`${d}/orders/${a}/timeline`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({...e,date:new Date().toISOString(),completed:!0})}),f=await c.json();f.success||console.error("Failed to add timeline entry:",f.error)}return{success:!0}}catch(a){return console.error("Error updating order status:",a),{success:!1,error:String(a)}}}async function u(){try{let a=await fetch(`${d}/stats`,{headers:{Authorization:`Bearer ${b}`}}),c=await a.json();if(c.success)return{success:!0,stats:c.stats};return{success:!1,error:c.error}}catch(a){return console.error("Error fetching CRM stats:",a),{success:!1,error:String(a)}}}a.s(["API_BASE",0,d,"getApiBase",0,c],86483),a.s(["captureAbandonedCartLead",()=>p,"captureChatbotLead",()=>h,"captureContactFormLead",()=>g,"captureLead",()=>e,"captureNewsletterLead",()=>f,"captureQuestionnaireLead",()=>i,"createLeadFromSignup",()=>o,"createOrder",()=>q,"createUserAccount",()=>j,"getCRMStats",()=>u,"getOrder",()=>s,"getUserByEmail",()=>k,"getUserOrders",()=>r,"trackUserActivity",()=>n,"trackUserLogin",()=>m,"updateOrderStatus",()=>t,"updateUserProfile",()=>l],66997)},44261,a=>{a.v(a=>Promise.resolve().then(()=>a(66997)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__db8aa376._.js.map